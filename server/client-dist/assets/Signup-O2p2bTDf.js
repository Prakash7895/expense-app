import{r as g,a3 as h,j as s,Z as f,B as l}from"./index-NPxkzeqz.js";import{D as x}from"./DynamicForm-V0J5eLCw.js";import{s as j,j as S}from"./validations-obWzZINR.js";import{a as b}from"./axiosInstance-5VxhVZmH.js";const L=()=>{const[a,t]=g.useState(!1),[u]=h(),p=u.get("emailOrPhone"),d=o=>{var n;t(!0),b.post("/api/user/register",{...o,countryCode:((n=o.countryCode)==null?void 0:n.value)??""}).then(e=>{console.log("RES2:",e),l.success("Registration successfull."),t(!1)}).catch(e=>{var r,i,c;console.log("ERR",e),l.error(s.jsx("div",{children:(c=(i=(r=e==null?void 0:e.response)==null?void 0:r.data)==null?void 0:i.errors)==null?void 0:c.map(m=>s.jsx("p",{children:m.msg},m.msg))})),t(!1)})};return s.jsx("div",{className:"h-screen -mb-6 flex justify-center items-center",children:s.jsx(x,{hideCloseButton:!0,fields:j(p),onSubmit:d,validationSchema:S,formHeader:"Sign up",submitButtonLabel:"Sign up",submitButtonProps:{isLoading:a,isDisabled:a},otherFooterElements:s.jsx(s.Fragment,{children:s.jsxs("p",{children:["Already have an account?"," ",s.jsx(f,{to:"/login",className:"text-primary-500",children:"Login"})]})}),buttonWrapperClassName:"justify-center items-center flex-col gap-3"})})};export{L as default};

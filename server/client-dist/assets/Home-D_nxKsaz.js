import{r as m,j as o,B as v}from"./index-OZYos_CI.js";import{b as f,a as x}from"./axiosInstance-PmQxw0TM.js";import{D as j,i as C,a as h}from"./validations-LTKiXFbi.js";import{e as P}from"./index-0fbKAvja.js";const N=()=>{const[c,n]=m.useState(0),[p,i]=m.useState(!1),[u,l]=m.useState(!1),g=e=>{var t;console.log("TT,",e),l(!0);const s=(t=e==null?void 0:e.emailOrPhone)==null?void 0:t.map((a,r)=>{var d;return/^\d+$/.test(a)?{emailOrPhone:a,countryCode:(d=e==null?void 0:e.countryCode[r])==null?void 0:d.value}:{emailOrPhone:a}});console.log("DATA",s),s!=null&&s.length&&x.post("/api/user/invite",{emailOrPhoneArr:s}).then(a=>{var r;v.success((r=a.data)==null?void 0:r.message),l(!1),n(0),i(!1)}).catch(a=>{l(!1),P(a)})},b=()=>{const e=Array.from({length:c+1},(s,t)=>t).map(s=>({...h,name:h.name+`.${s}`}));return console.log("ARR",e),e};return o.jsxs("div",{children:[o.jsx(f,{variant:"shadow",onClick:()=>{n(0),i(!0)},children:"Invite"}),p&&o.jsx(j,{onOpenChange:()=>i(!1),formHeader:"Login",onSubmit:g,fields:b(),submitButtonLabel:"Sign In",validationSchema:C,fieldsWrapperClassName:"gap-0",submitButtonProps:{isLoading:u,isDisabled:u},otherFormBodyElements:o.jsx("div",{children:o.jsx(f,{variant:"light",className:"text-default-500",isDisabled:c>3,onClick:()=>n(e=>e+1),children:"+Add more"})}),buttonWrapperClassName:"justify-start items-center flex-row-reverse gap-3"})]})};export{N as default};

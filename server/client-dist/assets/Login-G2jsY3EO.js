import{r as i,h as me,b as Q,d as j,q as be,f as he,a4 as $e,D as ve,a5 as xe,a6 as ge,j as o,a7 as K,P as ye,Z as Te,g as Pe,J as je,L as Y,M as Oe,B as q}from"./index-O9JJZrcZ.js";import{D as we}from"./DynamicForm-T-cbPcn0.js";import{l as Ce,k as De}from"./validations-w-brqqe0.js";import{b as J,a as Ne}from"./axiosInstance-PK0LAldn.js";import{b as Ee}from"./index-oRVazuJU.js";import{U as Ie,a as ke,V as Re,W as X,e as D,X as Z,c as Se,Y as Le,f as Ae,C as Fe,E as Be,F as He,B as _e}from"./constants-lrUcu3Dc.js";import{m as Ue}from"./chunk-CIZQCQPA-V_Z26pOB.js";import{w as We}from"./chunk-RFUEKIFS-kjMkjToG.js";import{b as Me}from"./Combination-wQBSQ2xP.js";import"./Input-Q0zpkvv3.js";const Ve=1500,G=500;let T={},ze=0,I=!1,x=null,P=null;function Ke(t={}){let{delay:s=Ve,closeDelay:l=G}=t,{isOpen:u,open:b,close:f}=Ie(t),a=i.useMemo(()=>`${++ze}`,[]),e=i.useRef(),c=()=>{T[a]=h},p=()=>{for(let r in T)r!==a&&(T[r](!0),delete T[r])},n=()=>{clearTimeout(e.current),e.current=null,p(),c(),I=!0,b(),x&&(clearTimeout(x),x=null),P&&(clearTimeout(P),P=null)},h=r=>{r||l<=0?(clearTimeout(e.current),e.current=null,f()):e.current||(e.current=setTimeout(()=>{e.current=null,f()},l)),x&&(clearTimeout(x),x=null),I&&(P&&clearTimeout(P),P=setTimeout(()=>{delete T[a],P=null,I=!1},Math.max(G,l)))},m=()=>{p(),c(),!u&&!x&&!I?x=setTimeout(()=>{x=null,I=!0,n()},s):u||n()};return i.useEffect(()=>()=>{clearTimeout(e.current),T[a]&&delete T[a]},[a]),{isOpen:u,open:r=>{!r&&s>0&&!e.current?m():n()},close:h}}function Ye(t,s){let l=me(t,{labelable:!0}),{hoverProps:u}=Q({onHoverStart:()=>s==null?void 0:s.open(!0),onHoverEnd:()=>s==null?void 0:s.close()});return{tooltipProps:j(l,u,{role:"tooltip"})}}function qe(t,s,l){let{isDisabled:u,trigger:b}=t,f=be(),a=i.useRef(!1),e=i.useRef(!1),c=()=>{(a.current||e.current)&&s.open(e.current)},p=d=>{!a.current&&!e.current&&s.close(d)};i.useEffect(()=>{let d=g=>{l&&l.current&&g.key==="Escape"&&(g.stopPropagation(),s.close(!0))};if(s.isOpen)return document.addEventListener("keydown",d,!0),()=>{document.removeEventListener("keydown",d,!0)}},[l,s]);let n=()=>{b!=="focus"&&($e()==="pointer"?a.current=!0:a.current=!1,c())},h=()=>{b!=="focus"&&(e.current=!1,a.current=!1,p())},m=()=>{e.current=!1,a.current=!1,p(!0)},r=()=>{ve()&&(e.current=!0,c())},$=()=>{e.current=!1,a.current=!1,p(!0)},{hoverProps:O}=Q({isDisabled:u,onHoverStart:n,onHoverEnd:h}),{focusableProps:w}=he({isDisabled:u,onFocus:r,onBlur:$},l);return{triggerProps:{"aria-describedby":s.isOpen?f:void 0,...j(w,O,{onPointerDown:m,onKeyDown:m})},tooltipProps:{id:f}}}function Je(t){const[s,l]=ke(t,X.variantKeys),{ref:u,as:b,isOpen:f,content:a,children:e,defaultOpen:c,onOpenChange:p,isDisabled:n,trigger:h,shouldFlip:m=!0,containerPadding:r=12,placement:$="top",delay:O=0,closeDelay:w=500,showArrow:d=!1,offset:g=7,crossOffset:C=0,isDismissable:te,shouldCloseOnBlur:se=!0,portalContainer:oe,isKeyboardDismissDisabled:ae=!1,updatePositionDeps:H=[],shouldCloseOnInteractOutside:le,className:ne,onClose:_,motionProps:re,classNames:N,...B}=s,ie=b||"div",E=Ke({delay:O,closeDelay:w,isDisabled:n,defaultOpen:c,isOpen:f,onOpenChange:y=>{p==null||p(y),y||_==null||_()}}),k=i.useRef(null),R=i.useRef(null),S=i.useId(),v=E.isOpen&&!n;i.useImperativeHandle(u,()=>Re(R));const{triggerProps:U,tooltipProps:ce}=qe({isDisabled:n,trigger:h},E,k),{tooltipProps:W}=Ye({isOpen:v,...j(s,ce)},E),{overlayProps:M,placement:L,updatePosition:de}=xe({isOpen:v,targetRef:k,placement:Le($),overlayRef:R,offset:d?g+3:g,crossOffset:C,shouldFlip:m,containerPadding:r});i.useLayoutEffect(()=>{H.length&&de()},H);const{overlayProps:V}=ge({isOpen:v,onClose:E.close,isDismissable:te,shouldCloseOnBlur:se,isKeyboardDismissDisabled:ae,shouldCloseOnInteractOutside:le},R),A=i.useMemo(()=>{var y,F,z;return X({...l,radius:(y=t==null?void 0:t.radius)!=null?y:"md",size:(F=t==null?void 0:t.size)!=null?F:"md",shadow:(z=t==null?void 0:t.shadow)!=null?z:"sm"})},[...Object.values(l),t==null?void 0:t.radius,t==null?void 0:t.size,t==null?void 0:t.shadow]),ue=i.useCallback((y={},F=null)=>({...j(U,y),ref:Ue(F,k),"aria-describedby":v?S:void 0}),[U,v,S,E]),pe=i.useCallback(()=>({ref:R,"data-slot":"base","data-open":D(v),"data-arrow":D(d),"data-disabled":D(n),"data-placement":Z(L,$),...j(W,V,B),style:j(M.style,B.style,s.style),className:A.base({class:N==null?void 0:N.base}),id:S}),[A,v,d,n,L,$,W,V,B,M,s,S]),fe=i.useCallback(()=>({"data-slot":"content","data-open":D(v),"data-arrow":D(d),"data-disabled":D(n),"data-placement":Z(L,$),className:A.content({class:Se(N==null?void 0:N.content,ne)})}),[A,v,d,n,L,$,N]);return{Component:ie,content:a,children:e,isOpen:v,triggerRef:k,showArrow:d,portalContainer:oe,placement:$,disableAnimation:t==null?void 0:t.disableAnimation,isDisabled:n,motionProps:re,getTooltipContentProps:fe,getTriggerProps:ue,getTooltipProps:pe}}var ee=Ae((t,s)=>{const{Component:l,children:u,content:b,isOpen:f,portalContainer:a,placement:e,disableAnimation:c,motionProps:p,getTriggerProps:n,getTooltipProps:h,getTooltipContentProps:m}=Je({...t,ref:s});let r;try{const C=i.Children.only(u);r=i.cloneElement(C,n(C.props,C.ref))}catch{r=o.jsx("span",{}),We("Tooltip must have only one child node. Please, check your code.")}const{ref:$,id:O,style:w,...d}=h(),g=o.jsx("div",{ref:$,id:O,style:w,children:o.jsx(Fe.div,{animate:"enter",exit:"exit",initial:"exit",variants:Be.scaleSpring,...j(p,d),style:{...He(e)},children:o.jsx(l,{...m(),children:b})})});return o.jsxs(o.Fragment,{children:[r,c&&f?o.jsx(K,{portalContainer:a,children:o.jsx("div",{ref:$,id:O,style:w,...d,children:o.jsx(l,{...m(),children:b})})}):o.jsx(_e,{children:f?o.jsx(K,{portalContainer:a,children:g}):null})]})});ee.displayName="NextUI.Tooltip";var Xe=ee;const rt=()=>{const[t,s]=i.useState(!1),l=ye(),{mode:u}=Te(Pe),b=je();i.useEffect(()=>{J.get("access-token")&&l("/")},[]);const f=a=>{s(!0),Ne.post("/api/user/login",{...a}).then(e=>{var c;J.set("access-token",e.data.token),b(Oe((c=e.data)==null?void 0:c.user)),q.success("Login successfull."),s(!1),l("/")}).catch(e=>{var c,p,n,h,m;q.error(o.jsx("div",{children:((n=(p=(c=e==null?void 0:e.response)==null?void 0:c.data)==null?void 0:p.errors)==null?void 0:n.map(r=>o.jsx("p",{children:r.msg},r.msg)))??((m=(h=e==null?void 0:e.response)==null?void 0:h.data)==null?void 0:m.message)??(e==null?void 0:e.message)??"Error"})),s(!1)})};return o.jsx("div",{className:"h-screen -mb-6 flex justify-center items-center",children:o.jsx(we,{hideCloseButton:!0,formHeader:o.jsxs("div",{className:"flex items-center",children:["Login",o.jsx(Xe,{classNames:{content:`${u} text-foreground bg-background`},content:o.jsxs("div",{className:"p-3",children:[o.jsx("p",{children:"Explore with dummy account."}),o.jsx("p",{className:"text-default-500 text-small",children:"Email: prakash_saran@yopmail.com"}),o.jsx("p",{className:"text-default-500 text-small",children:"Password: Demo@123"})]}),children:o.jsx(Me,{isIconOnly:!0,className:"border-0 bg-transparent",children:o.jsx(Ee,{size:15,className:"text-default-400"})})})]}),onSubmit:f,fields:Ce,submitButtonLabel:"Sign In",validationSchema:De,fieldsWrapperClassName:"gap-0",submitButtonProps:{isLoading:t,isDisabled:t},otherFormBodyElements:o.jsxs("div",{className:"flex justify-between",children:[o.jsx(Y,{to:"/signup",className:"text-primary-500",children:"Sign Up"}),o.jsx(Y,{to:"/forgot-password",className:"text-secondary-600",children:"Forgot Password?"})]}),buttonWrapperClassName:"justify-start items-center flex-row-reverse gap-3"})})};export{rt as default};

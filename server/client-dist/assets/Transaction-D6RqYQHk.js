import{$ as E,a as q,b as z,r as b,c as I,j as s,u as K,g as U}from"./index-2MKE4Dea.js";import{a as L,b as Q}from"./DynamicForm-bBSj3WGV.js";import{a as G}from"./axiosInstance-6QRSKrBW.js";import{C as J,t as X}from"./CrudComponent-Ztdj9xF5.js";import{u as Y}from"./DropdownMenu-1olBj8lZ.js";import{C as Z,c as ee,a as se}from"./chunk-J333S7JQ-V2O6O9eg.js";import{t as ae,d as te,m as re,u as oe,c as le,a as ne,b as de,e as d,f as T,g as ie,r as ce}from"./import-T4uufuul.js";var H=ae({slots:{base:["flex","flex-col","relative","overflow-hidden","height-auto","outline-none","text-foreground","box-border","bg-content1",...te],header:["flex","p-3","z-10","w-full","justify-start","items-center","shrink-0","overflow-inherit","color-inherit","subpixel-antialiased"],body:["relative","flex","flex-1","w-full","p-3","flex-auto","flex-col","place-content-inherit","align-items-inherit","h-auto","break-words","text-left","overflow-y-auto","subpixel-antialiased"],footer:["p-3","h-auto","flex","w-full","items-center","overflow-hidden","color-inherit","subpixel-antialiased"]},variants:{shadow:{none:{base:"shadow-none"},sm:{base:"shadow-small"},md:{base:"shadow-medium"},lg:{base:"shadow-large"}},radius:{none:{base:"rounded-none",header:"rounded-none",footer:"rounded-none"},sm:{base:"rounded-small",header:"rounded-t-small",footer:"rounded-b-small"},md:{base:"rounded-medium",header:"rounded-t-medium",footer:"rounded-b-medium"},lg:{base:"rounded-large",header:"rounded-t-large",footer:"rounded-b-large"}},fullWidth:{true:{base:"w-full"}},isHoverable:{true:{base:"data-[hover=true]:bg-content2 dark:data-[hover=true]:bg-content2"}},isPressable:{true:{base:"cursor-pointer"}},isBlurred:{true:{base:["bg-background/80","dark:bg-background/20","backdrop-blur-md","backdrop-saturate-150"]}},isFooterBlurred:{true:{footer:["bg-background/10","backdrop-blur","backdrop-saturate-150"]}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:"",false:{base:"transition-transform-background motion-reduce:transition-none"}}},compoundVariants:[{isPressable:!0,disableAnimation:!1,class:"data-[pressed=true]:scale-[0.97] tap-highlight-transparent"}],defaultVariants:{radius:"lg",shadow:"md",fullWidth:!1,isHoverable:!1,isPressable:!1,isDisabled:!1,disableAnimation:!1,isFooterBlurred:!1}});function ue(e){const[a,r]=re(e,H.variantKeys),{ref:t,as:o,children:f,disableRipple:i=!1,onClick:m,onPress:p,autoFocus:h,className:B,classNames:l,allowTextSelectionOnPress:S=!0,...c}=a,n=oe(t),j=o||(e.isPressable?"button":"div"),w=typeof j=="string",$=le(l==null?void 0:l.base,B),{onClick:O,onClear:k,ripples:N}=ne(),A=v=>{!e.disableAnimation&&!i&&n.current&&O(v)},{buttonProps:D,isPressed:x}=de({onPress:p,elementType:o,isDisabled:!e.isPressable,onClick:E(m,A),allowTextSelectionOnPress:S,...c},n),{hoverProps:F,isHovered:C}=q({isDisabled:!e.isHoverable,...c}),{isFocusVisible:y,isFocused:V,focusProps:R}=z({autoFocus:h}),u=b.useMemo(()=>H({...r}),[...Object.values(r)]),W=b.useMemo(()=>({isDisabled:e.isDisabled,isFooterBlurred:e.isFooterBlurred,disableAnimation:e.disableAnimation,fullWidth:e.fullWidth,slots:u,classNames:l}),[u,l,e.isDisabled,e.isFooterBlurred,e.disableAnimation,e.fullWidth]),M=b.useCallback((v={})=>({ref:n,className:u.base({class:$}),tabIndex:e.isPressable?0:-1,"data-hover":d(C),"data-pressed":d(x),"data-focus":d(V),"data-focus-visible":d(y),"data-disabled":d(e.isDisabled),...I(e.isPressable?{...D,...R,role:"button"}:{},e.isHoverable?F:{},T(c,{enabled:w}),T(v))}),[n,u,$,w,e.isPressable,e.isHoverable,e.isDisabled,C,x,y,D,R,F,c]),P=b.useCallback(()=>({ripples:N,onClear:k}),[N,k]);return{context:W,domRef:n,Component:j,classNames:l,children:f,isHovered:C,isPressed:x,isPressable:e.isPressable,isHoverable:e.isHoverable,disableAnimation:e.disableAnimation,disableRipple:i,handleClick:A,isFocusVisible:y,getCardProps:M,getRippleProps:P}}var _=ie((e,a)=>{const{children:r,context:t,Component:o,isPressable:f,disableAnimation:i,disableRipple:m,getCardProps:p,getRippleProps:h}=ue({...e,ref:a});return s.jsxs(o,{...p(),children:[s.jsx(Z,{value:t,children:r}),f&&!i&&!m&&s.jsx(ce,{...h()})]})});_.displayName="NextUI.Card";var be=_;const fe=e=>s.jsx(be,{...e,children:e.children}),g=({body:e,label:a,bodyClassName:r})=>s.jsxs(fe,{className:"py-4 text-foreground-600 w-36 self-stretch",children:[s.jsx(ee,{className:"pb-0 pt-2 px-4 flex-col items-start",children:s.jsx("p",{className:"text-tiny uppercase font-bold",children:a})}),s.jsx(se,{className:"overflow-visible py-2",children:s.jsx("h4",{className:`font-bold text-large ${r}`,children:e})})]}),ge=()=>{const e=K(U),{data:a,refetch:r}=Y({queryKey:["balance-info"],queryFn:async()=>G.get("/api/transaction/balance-info").then(t=>t.data),refetchOnWindowFocus:!1});return s.jsx(J,{headerLabel:"Transactions",headerDescription:"Update and explore transactions.",headerBtnLabel:"Add Transaction",api:"/api/transaction/list",queryKey:["transaction"],crudApi:"/api/transaction/",formHeader:"Add Transaction",tableColumns:X,columnRenderers:{type:t=>t[0].toUpperCase()+t.substring(1),category:(t,o)=>s.jsxs("div",{className:"flex flex-col",children:[s.jsx("p",{className:"text-bold text-small capitalize",children:t==null?void 0:t.name}),s.jsx("p",{className:"text-bold text-tiny capitalize text-default-400",children:o==null?void 0:o.description})]})},tableRowClassName:t=>`border-b-medium ${t.type==="debit"?"bg-danger-50":"bg-success-50"}`,formFields:L(e??[]),formValidationSchema:Q,onSubmitSuccess:()=>{r()},onDeleteSuccess:()=>{r()},beforeTableComponent:s.jsxs("div",{className:"my-5 flex gap-4 items-center",children:[s.jsx(g,{label:"Total Earnings",body:`$${(a==null?void 0:a.data.totalCredit._sum.amount)??0}`,bodyClassName:"text-success"}),s.jsx("h4",{className:"font-bold text-large",children:"-"}),s.jsx(g,{label:"Total Expenses",body:`$${(a==null?void 0:a.data.totalDebit._sum.amount)??0}`,bodyClassName:"text-danger"}),s.jsx("h4",{className:"font-bold text-large",children:"="}),s.jsx(g,{label:"Current Balance",body:`$${((a==null?void 0:a.data.totalCredit._sum.amount)||0)-((a==null?void 0:a.data.totalDebit._sum.amount)||0)}`})]})})};export{ge as default};

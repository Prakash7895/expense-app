import{r as m,j as a,B as g}from"./index-NPxkzeqz.js";import{b as f,a as x}from"./axiosInstance-5VxhVZmH.js";import{D as j}from"./DynamicForm-V0J5eLCw.js";import{i as C,a as h}from"./validations-obWzZINR.js";import{e as P}from"./index-1I2sMzmZ.js";const N=()=>{const[c,n]=m.useState(0),[p,i]=m.useState(!1),[u,l]=m.useState(!1),v=e=>{var o;console.log("TT,",e),l(!0);const s=(o=e==null?void 0:e.emailOrPhone)==null?void 0:o.map((t,r)=>{var d;return/^\d+$/.test(t)?{emailOrPhone:t,countryCode:(d=e==null?void 0:e.countryCode[r])==null?void 0:d.value}:{emailOrPhone:t}});console.log("DATA",s),s!=null&&s.length&&x.post("/api/user/invite",{emailOrPhoneArr:s}).then(t=>{var r;g.success((r=t.data)==null?void 0:r.message),l(!1),n(0),i(!1)}).catch(t=>{l(!1),P(t)})},b=()=>{const e=Array.from({length:c+1},(s,o)=>o).map(s=>({...h,name:h.name+`.${s}`}));return console.log("ARR",e),e};return a.jsxs("div",{children:[a.jsx(f,{variant:"shadow",onClick:()=>{n(0),i(!0)},children:"Invite"}),p&&a.jsx(j,{onOpenChange:()=>i(!1),formHeader:"Invite",onSubmit:v,fields:b(),submitButtonLabel:"Invite",validationSchema:C,fieldsWrapperClassName:"gap-0",submitButtonProps:{isLoading:u,isDisabled:u},otherFormBodyElements:a.jsx("div",{children:a.jsx(f,{variant:"light",className:"text-default-500",isDisabled:c>3,onClick:()=>n(e=>e+1),children:"+Add more"})}),buttonWrapperClassName:"justify-start items-center flex-row-reverse gap-3"})]})};export{N as default};

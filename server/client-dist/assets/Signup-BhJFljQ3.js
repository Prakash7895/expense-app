import{r as g,a4 as h,j as s,L as f,B as l}from"./index-2e1B2oQT.js";import{D as x}from"./DynamicForm-crEZ-JMP.js";import{s as j,m as S}from"./validations-RqKdkVhD.js";import{a as b}from"./axiosInstance-PK0LAldn.js";import"./Input-cL_IaeAr.js";import"./constants-IqKGNeYf.js";import"./Combination-oVxGQoKU.js";const C=()=>{const[o,t]=g.useState(!1),[u]=h(),p=u.get("emailOrPhone"),d=a=>{var r;t(!0),b.post("/api/user/register",{...a,countryCode:((r=a.countryCode)==null?void 0:r.value)??""}).then(e=>{console.log("RES2:",e),l.success("Registration successfull."),t(!1)}).catch(e=>{var i,n,m;console.log("ERR",e),l.error(s.jsx("div",{children:(m=(n=(i=e==null?void 0:e.response)==null?void 0:i.data)==null?void 0:n.errors)==null?void 0:m.map(c=>s.jsx("p",{children:c.msg},c.msg))})),t(!1)})};return s.jsx("div",{className:"h-screen -mb-6 flex justify-center items-center",children:s.jsx(x,{hideCloseButton:!0,fields:j(p),onSubmit:d,validationSchema:S,formHeader:"Sign up",submitButtonLabel:"Sign up",submitButtonProps:{isLoading:o,isDisabled:o},otherFooterElements:s.jsx(s.Fragment,{children:s.jsxs("p",{children:["Already have an account?"," ",s.jsx(f,{to:"/login",className:"text-primary-500",children:"Login"})]})}),buttonWrapperClassName:"justify-center items-center flex-col gap-3"})})};export{C as default};

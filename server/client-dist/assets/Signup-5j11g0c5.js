import{r as g,ae as h,j as s,Z as x,E as m}from"./index-s1U5AH-M.js";import{D as f,s as j,t as S}from"./validations-4-iiaDQp.js";import{a as b}from"./axiosInstance-XDAG8xBt.js";const F=()=>{const[a,t]=g.useState(!1),[u]=h(),p=u.get("emailOrPhone"),d=o=>{var n;t(!0),b.post("/api/user/register",{...o,countryCode:((n=o.countryCode)==null?void 0:n.value)??""}).then(e=>{console.log("RES2:",e),m.success("Registration successfull."),t(!1)}).catch(e=>{var r,i,c;console.log("ERR",e),m.error(s.jsx("div",{children:(c=(i=(r=e==null?void 0:e.response)==null?void 0:r.data)==null?void 0:i.errors)==null?void 0:c.map(l=>s.jsx("p",{children:l.msg},l.msg))})),t(!1)})};return s.jsx("div",{className:"h-screen -mb-6 flex justify-center items-center",children:s.jsx(f,{hideCloseButton:!0,fields:j(p),onSubmit:d,validationSchema:S,formHeader:"Sign up",submitButtonLabel:"Sign up",submitButtonProps:{isLoading:a,isDisabled:a},otherFooterElements:s.jsx(s.Fragment,{children:s.jsxs("p",{children:["Already have an account?"," ",s.jsx(x,{to:"/login",className:"text-primary-500",children:"Login"})]})}),buttonWrapperClassName:"justify-center items-center flex-col gap-3"})})};export{F as default};

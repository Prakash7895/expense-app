import{r as l,j as t,ae as F,Z as N}from"./index-hRPKmcs6.js";import{S,l as y,r as c,D as P,t as k}from"./DynamicForm-j0z0g7UC.js";import{c as D,a as E,i as O}from"./constants-nl1H2pPc.js";import"./import-qzOdkAyT.js";const _=()=>{const[r,x]=l.useState(!1),[m,p]=l.useState(!1),[h,u]=l.useState(!1),[a,o]=l.useState(!1),[f,b]=l.useState("IN"),g=D.map(e=>{const s=E.find(C=>C.code===e);return{value:s==null?void 0:s.countryCode,Flag:O[e],label:s==null?void 0:s.name,field:s==null?void 0:s.code}}).filter(e=>!!e.value).sort((e,s)=>e.label<s.label?-1:1),n=g.find(e=>e.field===f),i=t.jsx(t.Fragment,{children:a&&t.jsx("div",{className:"relative w-full max-w-36 h-full",children:t.jsx(S,{label:"Country Code",variant:"bordered",size:"sm",className:"absolute -top-[6px] -left-3.5",classNames:{popoverContent:"!w-[250px]",value:"w-0",trigger:"border-0 border-r-2"},items:g,onChange:e=>{console.log("change",e.target.value),b(e.target.value)},selectedKeys:f?[f]:[],startContent:f?t.jsxs("div",{className:"w-full flex items-center truncate",children:[n==null?void 0:n.Flag({className:"h-4 shrink-0"}),t.jsx("p",{children:n==null?void 0:n.value})]}):null,children:e=>{const s=e.Flag;return t.jsxs(y,{textValue:e.value,classNames:{title:"flex items-center justify-start gap-3"},children:[t.jsx(s,{className:"h-6 shrink-0"}),t.jsxs("div",{className:"flex-1 flex flex-wrap flex-col text-wrap",children:[t.jsx("p",{className:"text-default-700",children:e.label}),t.jsx("p",{children:e.value})]})]},e.field)}})})}),[j,d]=l.useState([c(a,o,i)[0]]);l.useEffect(()=>{!r&&!m&&d([c(a,o,i)[0]])},[a]);const v=e=>{console.log("onSubmit",e),u(!0),r?m||(d(c(a,o,i).map(s=>({...s,isDisabled:["emailOrPhone","otp"].includes(s.name)}))),p(!0),u(!1)):(d(c(a,o,i).slice(0,2).map(s=>({...s,isDisabled:s.name==="emailOrPhone"}))),x(!0),u(!1)),u(!1)},w=()=>{m?(d(c(a,o,i).slice(0,2).map(e=>({...e,isDisabled:e.name==="emailOrPhone"}))),p(!1)):r&&(d([c(a,o,i)[0]]),x(!1))};return t.jsx("div",{className:"h-screen -mb-6 flex justify-center items-center",children:t.jsx(P,{hideCloseButton:!0,formClassName:"lg:w-1/4 md:w-1/3 sm:w-1/2 w-full m-10",fields:j,onSubmit:v,validationSchema:k(r,m),submitButtonProps:{isLoading:h,isDisabled:h},formHeader:t.jsxs("div",{className:"justify-center pl-4",children:[r&&t.jsx(F,{className:"absolute left-4 cursor-pointer",onClick:w}),"Forgot Password"]}),submitButtonLabel:r?m?"Reset Password":"Verify OTP":"Get OTP",otherFooterElements:t.jsx(t.Fragment,{children:t.jsxs("p",{children:["Go to"," ",t.jsx(N,{to:"/login",className:"text-primary-500",children:"Login"})," ","page"]})}),buttonWrapperClassName:"justify-center items-center flex-col gap-3"})})};export{_ as default};

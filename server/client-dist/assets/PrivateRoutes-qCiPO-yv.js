import{j as e,r as b,b as $e,a as ze,c as F,T as Ee,i as Fe,a3 as Ge,G as Le,H as J,u as se,a4 as He,F as Y,J as We,a5 as De,a6 as X,a7 as Te,a8 as Ve,a9 as re,aa as ne,ab as oe,ac as Ue,ad as Ke,ae as xe,af as qe,ag as Qe,ah as Ze,ai as Je}from"./index-2MKE4Dea.js";import{b as ve,a as le}from"./axiosInstance-6QRSKrBW.js";import{p as Ye,u as ie,D as ce,d as de,a as ue,m as E}from"./DropdownMenu-1olBj8lZ.js";import{t as V,d as ye,Y as Z,h as _,j as je,Z as Xe,u as O,c as y,e as w,g as M,R as ea,H as aa,C as we,E as fe,m as Ne,z as me}from"./import-T4uufuul.js";var be=V({slots:{base:["flex","z-40","w-full","h-auto","items-center","justify-center","data-[menu-open=true]:border-none"],wrapper:["z-40","flex","px-6","gap-4","w-full","flex-row","relative","flex-nowrap","items-center","justify-between","h-[var(--navbar-height)]"],toggle:["group","flex","items-center","justify-center","w-6","h-full","outline-none","rounded-small","tap-highlight-transparent",...ye],srOnly:["sr-only"],toggleIcon:["w-full","h-full","pointer-events-none","flex","flex-col","items-center","justify-center","text-inherit","group-data-[pressed=true]:opacity-70","transition-opacity","before:content-['']","before:block","before:h-px","before:w-6","before:bg-current","before:transition-transform","before:duration-150","before:-translate-y-1","before:rotate-0","group-data-[open=true]:before:translate-y-px","group-data-[open=true]:before:rotate-45","after:content-['']","after:block","after:h-px","after:w-6","after:bg-current","after:transition-transform","after:duration-150","after:translate-y-1","after:rotate-0","group-data-[open=true]:after:translate-y-0","group-data-[open=true]:after:-rotate-45"],brand:["flex","basis-0","flex-row","flex-grow","flex-nowrap","justify-start","bg-transparent","items-center","no-underline","text-medium","whitespace-nowrap","box-border"],content:["flex","gap-4","h-full","flex-row","flex-nowrap","items-center","data-[justify=start]:justify-start","data-[justify=start]:flex-grow","data-[justify=start]:basis-0","data-[justify=center]:justify-center","data-[justify=end]:justify-end","data-[justify=end]:flex-grow","data-[justify=end]:basis-0"],item:["text-medium","whitespace-nowrap","box-border","list-none","data-[active=true]:font-semibold"],menu:["z-30","px-6","pt-2","fixed","flex","max-w-full","top-[var(--navbar-height)]","inset-x-0","bottom-0","w-screen","flex-col","gap-2","overflow-y-auto"],menuItem:["text-large","data-[active=true]:font-semibold"]},variants:{position:{static:{base:"static"},sticky:{base:"sticky top-0 inset-x-0"}},maxWidth:{sm:{wrapper:"max-w-[640px]"},md:{wrapper:"max-w-[768px]"},lg:{wrapper:"max-w-[1024px]"},xl:{wrapper:"max-w-[1280px]"},"2xl":{wrapper:"max-w-[1536px]"},full:{wrapper:"max-w-full"}},hideOnScroll:{true:{base:["sticky","top-0","inset-x-0"]}},isBordered:{true:{base:["border-b","border-divider"]}},isBlurred:{false:{base:"bg-background",menu:"bg-background"},true:{base:["backdrop-blur-lg","data-[menu-open=true]:backdrop-blur-xl","backdrop-saturate-150","bg-background/70"],menu:["backdrop-blur-xl","backdrop-saturate-150","bg-background/70"]}},disableAnimation:{true:{menu:["hidden","h-[calc(100dvh_-_var(--navbar-height)_-_1px)]","data-[open=true]:flex"]}}},defaultVariants:{maxWidth:"lg",position:"sticky",isBlurred:!0}}),pe=V({slots:{base:["group","relative","overflow-hidden","bg-content3 dark:bg-content2","before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2","data-[loaded=true]:!bg-transparent","data-[loaded=true]:before:opacity-0 data-[loaded=true]:before:animate-none","data-[loaded=true]:after:opacity-0"],content:["opacity-0","group-data-[loaded=true]:opacity-100"]},variants:{disableAnimation:{true:{base:"before:transition-none",content:"transition-none"},false:{base:"transition-background !duration-300 before:transition-opacity before:!duration-300",content:"transition-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{disableAnimation:!1}}),ta=V({slots:{base:["flex","relative","justify-center","items-center","box-border","overflow-hidden","align-middle","text-white","z-0",...ye],img:["flex","object-cover","w-full","h-full","transition-opacity","!duration-500","opacity-0","data-[loaded=true]:opacity-100"],fallback:[...Z,"flex","items-center","justify-center"],name:[...Z,"font-normal","text-center","text-inherit"],icon:[...Z,"flex","items-center","justify-center","text-inherit","w-full","h-full"]},variants:{size:{sm:{base:"w-8 h-8 text-tiny"},md:{base:"w-10 h-10 text-tiny"},lg:{base:"w-14 h-14 text-small"}},color:{default:{base:_.solid.default},primary:{base:_.solid.primary},secondary:{base:_.solid.secondary},success:{base:_.solid.success},warning:{base:_.solid.warning},danger:{base:_.solid.danger}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"},full:{base:"rounded-full"}},isBordered:{true:{base:"ring-2 ring-offset-2 ring-offset-background dark:ring-offset-background-dark"}},isDisabled:{true:{base:"opacity-disabled"}},isInGroup:{true:{base:["-ms-2 data-[hover=true]:-translate-x-3 transition-transform","data-[focus-visible=true]:-translate-x-3"]}},isInGridGroup:{true:{base:"m-0 data-[hover=true]:translate-x-0"}}},defaultVariants:{size:"md",color:"default",radius:"full"},compoundVariants:[{color:"default",isBordered:!0,class:{base:"ring-default"}},{color:"primary",isBordered:!0,class:{base:"ring-primary"}},{color:"secondary",isBordered:!0,class:{base:"ring-secondary"}},{color:"success",isBordered:!0,class:{base:"ring-success"}},{color:"warning",isBordered:!0,class:{base:"ring-warning"}},{color:"danger",isBordered:!0,class:{base:"ring-danger"}}]});V({base:"flex items-center justify-center h-auto w-max-content",variants:{isGrid:{true:"inline-grid grid-cols-4 gap-3"}}});var sa=()=>e.jsxs("svg",{"aria-hidden":"true",fill:"none",height:"80%",role:"presentation",viewBox:"0 0 24 24",width:"80%",children:[e.jsx("path",{d:"M12 2C9.38 2 7.25 4.13 7.25 6.75C7.25 9.32 9.26 11.4 11.88 11.49C11.96 11.48 12.04 11.48 12.1 11.49C12.12 11.49 12.13 11.49 12.15 11.49C12.16 11.49 12.16 11.49 12.17 11.49C14.73 11.4 16.74 9.32 16.75 6.75C16.75 4.13 14.62 2 12 2Z",fill:"currentColor"}),e.jsx("path",{d:"M17.0809 14.1489C14.2909 12.2889 9.74094 12.2889 6.93094 14.1489C5.66094 14.9989 4.96094 16.1489 4.96094 17.3789C4.96094 18.6089 5.66094 19.7489 6.92094 20.5889C8.32094 21.5289 10.1609 21.9989 12.0009 21.9989C13.8409 21.9989 15.6809 21.5289 17.0809 20.5889C18.3409 19.7389 19.0409 18.5989 19.0409 17.3589C19.0309 16.1289 18.3409 14.9889 17.0809 14.1489Z",fill:"currentColor"})]}),[Pa,ra]=je({name:"AvatarGroupContext",strict:!1}),na=globalThis!=null&&globalThis.document?b.useLayoutEffect:b.useEffect;function oa(i={}){const{loading:s,src:a,srcSet:l,onLoad:n,onError:c,crossOrigin:t,sizes:o,ignoreFallback:r}=i,[u,d]=b.useState("pending");b.useEffect(()=>{d(a?"loading":"pending")},[a]);const f=b.useRef(),h=b.useCallback(()=>{if(!a)return;g();const p=new Image;p.src=a,t&&(p.crossOrigin=t),l&&(p.srcset=l),o&&(p.sizes=o),s&&(p.loading=s),p.onload=x=>{g(),d("loaded"),n==null||n(x)},p.onerror=x=>{g(),d("failed"),c==null||c(x)},f.current=p},[a,t,l,o,n,c,s]),g=()=>{f.current&&(f.current.onload=null,f.current.onerror=null,f.current=null)};return na(()=>{if(!r)return u==="loading"&&h(),()=>{g()}},[u,h,r]),r?"loaded":u}function la(i={}){var s,a,l,n,c;const t=ra(),o=!!t,{as:r,ref:u,src:d,name:f,icon:h,classNames:g,fallback:p,alt:x=f||"avatar",imgRef:j,color:N=(s=t==null?void 0:t.color)!=null?s:"default",radius:S=(a=t==null?void 0:t.radius)!=null?a:"full",size:v=(l=t==null?void 0:t.size)!=null?l:"md",isBordered:P=(n=t==null?void 0:t.isBordered)!=null?n:!1,isDisabled:I=(c=t==null?void 0:t.isDisabled)!=null?c:!1,isFocusable:A=!1,getInitials:U=Xe,ignoreFallback:G=!1,showFallback:B=!1,ImgComponent:L="img",imgProps:R,className:$,onError:K,...H}=i,q=r||"span",m=O(u),k=O(j),{isFocusVisible:W,isFocused:D,focusProps:ae}=$e(),{isHovered:Oe,hoverProps:Me}=ze({isDisabled:I}),T=oa({src:d,onError:K,ignoreFallback:G})==="loaded",Ae=(!d||!T)&&B,z=b.useMemo(()=>{var C;return ta({color:N,radius:S,size:v,isBordered:P,isDisabled:I,isInGroup:o,isInGridGroup:(C=t==null?void 0:t.isGrid)!=null?C:!1})},[N,S,v,P,I,o,t==null?void 0:t.isGrid]),te=y(g==null?void 0:g.base,$),Q=b.useMemo(()=>A||r==="button",[A,r]),Be=b.useCallback((C={})=>({ref:m,tabIndex:Q?0:-1,"data-hover":w(Oe),"data-focus":w(D),"data-focus-visible":w(W),className:z.base({class:y(te,C==null?void 0:C.className)}),...F(H,Me,Q?ae:{})}),[Q,z,te,ae,H]),Re=b.useCallback((C={})=>({ref:k,src:d,"data-loaded":w(T),className:z.img({class:g==null?void 0:g.img}),...F(R,C)}),[z,T,R,d,k]);return{Component:q,ImgComponent:L,src:d,alt:x,icon:h,name:f,imgRef:k,slots:z,classNames:g,fallback:p,isImgLoaded:T,showFallback:Ae,ignoreFallback:G,getInitials:U,getAvatarProps:Be,getImageProps:Re}}var ke=M((i,s)=>{const{Component:a,ImgComponent:l,src:n,icon:c=e.jsx(sa,{}),alt:t,classNames:o,slots:r,name:u,showFallback:d,fallback:f,getInitials:h,getAvatarProps:g,getImageProps:p}=la({...i,ref:s}),x=b.useMemo(()=>!d&&n?null:f?e.jsx("div",{"aria-label":t,className:r.fallback({class:o==null?void 0:o.fallback}),role:"img",children:f}):u?e.jsx("span",{"aria-label":t,className:r.name({class:o==null?void 0:o.name}),role:"img",children:h(u)}):e.jsx("span",{"aria-label":t,className:r.icon({class:o==null?void 0:o.icon}),role:"img",children:c}),[d,n,f,u,o]);return e.jsxs(a,{...g(),children:[n&&e.jsx(l,{...p(),alt:t}),x]})});ke.displayName="NextUI.Avatar";var ia=ke,[ca,ee]=je({name:"NavbarContext",strict:!0,errorMessage:"useNavbarContext: `context` is undefined. Seems you forgot to wrap component within <Navbar />"}),da={enter:{height:"calc(100vh - var(--navbar-height) - 1px)",transition:{duration:.3,easings:"easeOut"}},exit:{height:0,transition:{duration:.25,easings:"easeIn"}}},Ce=M((i,s)=>{var a,l;const{className:n,children:c,portalContainer:t,motionProps:o,style:r,...u}=i,d=O(s),{slots:f,isMenuOpen:h,height:g,disableAnimation:p,classNames:x}=ee(),j=y(x==null?void 0:x.menu,n),N=b.useCallback(({children:v})=>e.jsx(ea,{forwardProps:!0,enabled:h,removeScrollBar:!1,children:v}),[h]),S=p?e.jsx(N,{children:e.jsx("ul",{ref:d,className:(a=f.menu)==null?void 0:a.call(f,{class:j}),"data-open":w(h),style:{"--navbar-height":g},...u,children:c})}):e.jsx(aa,{mode:"wait",children:h?e.jsx(N,{children:e.jsx(we.ul,{ref:d,layoutScroll:!0,animate:"enter",className:(l=f.menu)==null?void 0:l.call(f,{class:j}),"data-open":w(h),exit:"exit",initial:"exit",style:{"--navbar-height":g,...r},variants:da,...F(o,u),children:c})}):null});return e.jsx(Ee,{portalContainer:t,children:S})});Ce.displayName="NextUI.NavbarMenu";var ua=Ce,fa={visible:{y:0,transition:{ease:fe.easeOut}},hidden:{y:"-100%",transition:{ease:fe.easeIn}}},ma=typeof window<"u";function ge(i){return ma?i?{x:i.scrollLeft,y:i.scrollTop}:{x:window.scrollX,y:window.scrollY}:{x:0,y:0}}var ba=i=>{const{elementRef:s,delay:a=30,callback:l,isEnabled:n}=i,c=b.useRef(n?ge(s==null?void 0:s.current):{x:0,y:0});let t=null;const o=()=>{const r=ge(s==null?void 0:s.current);typeof l=="function"&&l({prevPos:c.current,currPos:r}),c.current=r,t=null};return b.useEffect(()=>{if(!n)return;const r=()=>{a?t===null&&(t=setTimeout(o,a)):o()},u=(s==null?void 0:s.current)||window;return u.addEventListener("scroll",r),()=>u.removeEventListener("scroll",r)},[s==null?void 0:s.current,a,n]),c.current};function pa(i){var s;const[a,l]=Ne(i,be.variantKeys),{ref:n,as:c,parentRef:t,height:o="4rem",shouldHideOnScroll:r=!1,disableScrollHandler:u=!1,onScrollPositionChange:d,isMenuOpen:f,isMenuDefaultOpen:h,onMenuOpenChange:g=()=>{},motionProps:p,className:x,classNames:j,...N}=a,S=c||"nav",v=O(n),P=b.useRef(0),I=b.useRef(0),[A,U]=b.useState(!1),G=b.useCallback(m=>{g(m||!1)},[g]),[B,L]=Fe(f,h,G),R=()=>{if(v.current){const m=v.current.offsetWidth;m!==P.current&&(P.current=m)}};Ge({ref:v,onResize:()=>{var m;((m=v.current)==null?void 0:m.offsetWidth)!==P.current&&(R(),L(!1))}}),b.useEffect(()=>{var m;R(),I.current=((m=v.current)==null?void 0:m.offsetHeight)||0},[]);const $=b.useMemo(()=>be({...l,hideOnScroll:r}),[...Object.values(l),r]),K=y(j==null?void 0:j.base,x);ba({elementRef:t,isEnabled:r||!u,callback:({prevPos:m,currPos:k})=>{d==null||d(k.y),r&&U(W=>{const D=k.y>m.y&&k.y>I.current;return D!==W?D:W})}});const H=(m={})=>({...F(N,m),"data-hidden":w(A),"data-menu-open":w(B),ref:v,className:$.base({class:y(K,m==null?void 0:m.className)}),style:{"--navbar-height":o,...N==null?void 0:N.style,...m==null?void 0:m.style}}),q=(m={})=>({...m,"data-menu-open":w(B),className:$.wrapper({class:y(j==null?void 0:j.wrapper,m==null?void 0:m.className)})});return{Component:S,slots:$,domRef:v,height:o,isHidden:A,disableAnimation:(s=i.disableAnimation)!=null?s:!1,shouldHideOnScroll:r,isMenuOpen:B,classNames:j,setIsMenuOpen:L,motionProps:p,getBaseProps:H,getWrapperProps:q}}var Se=M((i,s)=>{const{children:a,...l}=i,n=pa({...l,ref:s}),c=n.Component,[t,o]=Ye(a,ua),r=e.jsxs(e.Fragment,{children:[e.jsx("header",{...n.getWrapperProps(),children:t}),o]});return e.jsx(ca,{value:n,children:n.shouldHideOnScroll?e.jsx(we.nav,{animate:n.isHidden?"hidden":"visible",initial:!1,variants:fa,...F(n.getBaseProps(),n.motionProps),children:r}):e.jsx(c,{...n.getBaseProps(),children:r})})});Se.displayName="NextUI.Navbar";var ga=Se,Pe=M((i,s)=>{var a;const{as:l,className:n,children:c,...t}=i,o=l||"div",r=O(s),{slots:u,classNames:d}=ee(),f=y(d==null?void 0:d.brand,n);return e.jsx(o,{ref:r,className:(a=u.brand)==null?void 0:a.call(u,{class:f}),...t,children:c})});Pe.displayName="NextUI.NavbarBrand";var ha=Pe,Ie=M((i,s)=>{var a;const{as:l,className:n,children:c,justify:t="start",...o}=i,r=l||"ul",u=O(s),{slots:d,classNames:f}=ee(),h=y(f==null?void 0:f.content,n);return e.jsx(r,{ref:u,className:(a=d.content)==null?void 0:a.call(d,{class:h}),"data-justify":t,...o,children:c})});Ie.displayName="NextUI.NavbarContent";var xa=Ie;function va(i){const[s,a]=Ne(i,pe.variantKeys),{as:l,children:n,isLoaded:c=!1,className:t,classNames:o,...r}=s,u=l||"div",d=b.useMemo(()=>pe({...a}),[...Object.values(a),n]),f=y(o==null?void 0:o.base,t);return{Component:u,children:n,slots:d,classNames:o,getSkeletonProps:(p={})=>({"data-loaded":w(c),className:d.base({class:y(f,p==null?void 0:p.className)}),...r}),getContentProps:(p={})=>({className:d.content({class:y(o==null?void 0:o.content,p==null?void 0:p.className)})})}}var _e=M((i,s)=>{const{Component:a,children:l,getSkeletonProps:n,getContentProps:c}=va({...i});return e.jsx(a,{ref:s,...n(),children:e.jsx("div",{...c(),children:l})})});_e.displayName="NextUI.Skeleton";var he=_e;const ya=()=>{const i=Le(),s=J(),a=se(He),{mode:l,colorScheme:n,showSidebar:c}=se(Y),t=ie({queryKey:["loggedInUser"],queryFn:async()=>le.get("/api/user/profile").then(r=>r.data.data)}),o=ie({queryKey:["categories"],queryFn:async()=>le.get("/api/category/list?pageNo=1&pageSize=10&getAll=true").then(r=>r.data.data)});return b.useEffect(()=>{t.data&&!t.isPending&&t.isFetched&&s(We(t.data))},[t.data]),b.useEffect(()=>{o.data&&!o.isPending&&o.isFetched&&s(De(o.data))},[o.data]),e.jsxs(ga,{isBordered:!0,className:`shadow-md ${l} text-foreground-800 bg-background`,children:[e.jsx(me,{className:"md:hidden",isIconOnly:!0,size:"sm",variant:"solid",onClick:()=>{s(X(!c))},children:c?e.jsx(Te,{size:20}):e.jsx(Ve,{size:20})}),e.jsx(ha,{children:e.jsx(he,{isLoaded:!!a,className:"md:w-3/5 rounded-lg",children:e.jsx("p",{className:"font-bold text-inherit",children:(a==null?void 0:a.firstName)+" "+(a==null?void 0:a.lastName)})})}),e.jsxs(xa,{as:"div",justify:"end",children:[e.jsxs(ce,{children:[e.jsx(de,{children:e.jsx(me,{variant:"bordered",isIconOnly:!0,size:"sm",children:n==="dark"?e.jsx(re,{}):n==="light"?e.jsx(ne,{}):e.jsx(oe,{})})}),e.jsxs(ue,{selectedKeys:new Set([n]),selectionMode:"single","aria-label":"theme setting",onSelectionChange:r=>{r!=="all"&&r.forEach(u=>{s(Ue(u)),localStorage.setItem("colorScheme",u)})},children:[e.jsx(E,{children:e.jsxs("span",{className:"flex items-center gap-3",children:[e.jsx(re,{})," Dark"]})},"dark"),e.jsx(E,{className:"flex items-center gap-3",children:e.jsxs("span",{className:"flex items-center gap-3",children:[e.jsx(ne,{})," Light"]})},"light"),e.jsx(E,{className:"flex items-center gap-3",children:e.jsxs("span",{className:"flex items-center gap-3",children:[e.jsx(oe,{})," System"]})},"system")]})]}),e.jsxs(ce,{placement:"bottom-end",children:[e.jsx(he,{isLoaded:!!a,className:"flex justify-center items-center rounded-full w-10 h-10",children:e.jsx(de,{children:e.jsx(ia,{isBordered:!0,as:"button",className:"transition-transform",name:"Jason Hughes",size:"sm",src:"https://i.pravatar.cc/150?u=a042581f4e29026704d"})})}),e.jsxs(ue,{"aria-label":"Profile Actions",children:[e.jsxs(E,{className:"h-14 gap-2",children:[e.jsx("p",{className:"font-semibold",children:"Signed in as"}),e.jsxs("p",{className:"font-semibold",children:["$",(a==null?void 0:a.email)??(a==null?void 0:a.phone)??"N/A"]})]},"profile"),e.jsx(E,{color:"danger",onClick:()=>{ve.remove("access-token"),i("/login")},children:"Log Out"},"logout")]})]})]})]})},ja=()=>{const{pathname:i}=Ke(),s=J(),{showSidebar:a}=xe(Y);return e.jsx("div",{className:`max-w-52 shadow-medium bg-background pt-3 z-50 top-0 bottom-0 md:w-1/5 overflow-hidden absolute md:relative transition-all ${a?"w-64":"w-0"}`,children:qe.map(l=>e.jsx("div",{className:"p-1.5",children:e.jsx(Qe,{className:`w-full block ${i===l.path?"bg-primary-500 text-foreground-50":"hover:bg-primary-600 hover:text-foreground-50"} px-2 py-1 rounded-lg`,to:l.path,onClick:()=>s(X(!1)),children:l.label})},l.path))})},Ia=()=>{const i=ve.get("access-token"),s=J(),{showSidebar:a}=xe(Y);return i?e.jsxs(e.Fragment,{children:[e.jsx(ya,{}),e.jsxs("div",{className:"flex flex-1 w-full relative",style:{height:"calc(100% - 5rem)"},children:[e.jsx(ja,{}),e.jsx("div",{onClick:()=>s(X(!a)),className:`bg-slate-500 opacity-30 absolute z-40 ${a?"top-0 bottom-0 left-0 right-0":""}`}),e.jsx("div",{className:"flex-1 p-3 overflow-auto h-full",children:e.jsx(Ze,{})})]})]}):e.jsx(Je,{to:"/login"})};export{Ia as default};
